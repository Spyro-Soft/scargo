#
# DO NOT EDIT THIS FILE!
# This file is generated by `scargo update`.
#
cmake_minimum_required(VERSION 3.16)

set(CONAN_DISABLE_CHECK_COMPILER ON)

list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_SOURCE_DIR}/third-party/stm32-cmake/cmake)

set(STM32_CHIP STM32L496AG)
set(CMAKE_TOOLCHAIN_FILE ${CMAKE_CURRENT_SOURCE_DIR}/third-party/stm32-cmake/cmake/stm32_gcc.cmake)
set(STM32_TOOLCHAIN_PATH /opt/gcc-arm-none-eabi)
set(STM32_TARGET_TRIPLET arm-none-eabi)

include(third-party/stm32-cmake/cmake/stm32/common.cmake)
stm32_get_chip_info(${STM32_CHIP} FAMILY STM32_FAMILY DEVICE STM32_DEVICE TYPE STM32_TYPE)

message("Fetching stm32 cube for stm32 ${STM32_FAMILY} family")
stm32_fetch_cube(${STM32_FAMILY})

project( common_scargo_project_stm32
    VERSION 0.1.0
    DESCRIPTION "Project description."
    HOMEPAGE_URL "www.hello-world.com"
    LANGUAGES C CXX ASM
)

if(EXISTS ${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)
    include(${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)
    conan_basic_setup()
endif()
set(CMAKE_CXX_STANDARD 17)

set(CMAKE_C_FLAGS   "-Wall -Wextra")
set(CMAKE_CXX_FLAGS "-Wall -Wextra")
# Debug
set(CMAKE_C_FLAGS_DEBUG   "-g")
set(CMAKE_CXX_FLAGS_DEBUG "-g")

# Release
set(CMAKE_C_FLAGS_RELEASE   "-O3 -DNDEBUG")
set(CMAKE_CXX_FLAGS_RELEASE "-O3 -DNDEBUG")

# RelWithDebInfo
set(CMAKE_C_FLAGS_RELWITHDEBINFO   "-O2 -g -DNDEBUG")
set(CMAKE_CXX_FLAGS_RELWITHDEBINFO "-O2 -g -DNDEBUG")

# MinSizeRel
set(CMAKE_C_FLAGS_MINSIZEREL   "-Os -DNDEBUG")
set(CMAKE_CXX_FLAGS_MINSIZEREL "-Os -DNDEBUG")


add_subdirectory(src)
